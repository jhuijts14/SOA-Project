<!-- BikeRepair BPEL Process [Generated by the Eclipse BPEL Designer] -->
<!-- Date: Wed Mar 29 08:02:55 CEST 2017 -->
<bpel:process name="BikeRepair"
         targetNamespace="http://www.djbikerepair.org/BikeRepairService/"
         suppressJoinFailure="yes"
         xmlns:tns="http://www.djbikerepair.org/BikeRepairService/"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:rts="http://www.djbikeshop.org/RepairTransportationService/" 
         xmlns:cus="http://www.djbikeshop.org/CustomerService/" 
         xmlns:ccs="http://www.djbikeshop.org/CostCalculationService/" 
         xmlns:bis="http://www.djbikeshop.org/BikeInspectionService/" 
         xmlns:rbs="http://www.djbikeshop.org/RepairBillingService/" 
         xmlns:bcs="http://www.djbikeshop.org/BillingCallbackService/" 
         xmlns:ct="http://www.djbikeshop.org/CommonTypes/">
         
    <!-- Import the client WSDL -->
    <bpel:import namespace="http://www.djbikeshop.org/CommonTypes/" location="CommonTypes.xsd" importType="http://www.w3.org/2001/XMLSchema"></bpel:import>
    <bpel:import namespace="http://www.djbikeshop.org/BillingCallbackService/" location="BillingCallbackService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.djbikeshop.org/RepairBillingService/" location="RepairBillingService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.djbikeshop.org/BikeInspectionService/" location="BikeInspectionService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.djbikeshop.org/CostCalculationService/" location="CostCalculationService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.djbikeshop.org/CustomerService/" location="CustomerService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.djbikeshop.org/RepairTransportationService/" location="RepairTransportationService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import namespace="http://www.djbikerepair.org/BikeRepairService/" location="BikeRepairService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import location="BikeRepairArtifacts.wsdl" namespace="http://www.djbikerepair.org/BikeRepairService/" 
	        importType="http://schemas.xmlsoap.org/wsdl/" />

    <!-- ================================================================= -->         
    <!-- ORCHESTRATION LOGIC                                               -->
    <!-- Set of activities coordinating the flow of messages across the    -->
    <!-- services integrated within this business process                  -->
    <!-- ================================================================= -->         
    <bpel:partnerLinks>
        <bpel:partnerLink name="repairService" partnerLinkType="tns:BikeRepairServiceLinkType" myRole="repairService"></bpel:partnerLink>
        <bpel:partnerLink name="transporter" partnerLinkType="rts:RepairTransportationServiceLinkType" partnerRole="transporter"></bpel:partnerLink>
        <bpel:partnerLink name="customer" partnerLinkType="cus:CustomerServiceLinkType" partnerRole="customer"></bpel:partnerLink>
        <bpel:partnerLink name="calculator" partnerLinkType="ccs:CostCalculationServiceLinkType" partnerRole="calculator"></bpel:partnerLink>
        <bpel:partnerLink name="inspector" partnerLinkType="bis:BikeInspectionServiceLinkType" partnerRole="inspector"></bpel:partnerLink>
        <bpel:partnerLink name="billing" partnerLinkType="rbs:RepairBillingServiceLinkType" partnerRole="billing"></bpel:partnerLink>
        <bpel:partnerLink name="billingCallback" partnerLinkType="bcs:BillingCallbackServiceLinkType" myRole="billingCallback"></bpel:partnerLink>
    </bpel:partnerLinks>
    
    <bpel:variables>
        <bpel:variable name="repairRequest" messageType="tns:RequestRepairRequest"></bpel:variable>
        <bpel:variable name="repairResponse" messageType="tns:RequestRepairResponse"></bpel:variable>
    </bpel:variables>
    
    <bpel:correlationSets>
		<bpel:correlationSet name="RepairID" properties="tns:RepairIDType" />
	</bpel:correlationSets>
	
    <bpel:sequence name="main">
        <bpel:receive name="ReceiveRepReq" partnerLink="repairService" 
        	operation="RequestRepair" variable="repairRequest" createInstance="yes">
        </bpel:receive>
        
        
    </bpel:sequence>    
</bpel:process>

